<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xml:lang="ja-JP" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:creativeCommons="http://backend.userland.com/creativeCommonsRssModule" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Hail2u.net</title>
    <link>http://hail2u.net/</link>
    <description>Hail2u.net is simply a notebook of Kyo Nagashima about web design, programming &amp; their related technologies.</description>
    <language>ja-JP</language>
    <copyright>Copyright © 2002-2014, Kyo Nagashima</copyright>
    <managingEditor>kyo@hail2u.net (Kyo Nagashima)</managingEditor>
    <webMaster>kyo@hail2u.net (Kyo Nagashima)</webMaster>
    <atom:link rel="self" href="http://hail2u.net/feed"/>
    <atom:link rel="hub" href="https://pubsubhubbub.appspot.com/"/>
    <creativeCommons:license>http://creativecommons.org/licenses/by-nc/3.0/</creativeCommons:license>
    <item>
      <title>クラス名の命名規定</title>
      <link>http://hail2u.net/blog/webdesign/css-class-naming-rule.html</link>
      <description>pixivのCSSで使われるクラス名ルールという命名規則の記事を読んでいた。初見では大規模だとBEMの衝突が絶対に起きない書き方の方が優れているように思えた。しかし衝突するであろうことに警報を出すという形にゆるくすることで、開発者たちに自由を与えるというような目的でこうなっているようだ。ちょっと興味深い。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Web Design</category>
      <guid isPermaLink="true">http://hail2u.net/blog/webdesign/css-class-naming-rule.html</guid>
      <pubDate>Sun, 07 Dec 2014 02:20:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;&lt;a href="http://less.carbonfairy.org/post/104312752301"&gt;pixivのCSSで使われるクラス名ルール&lt;/a&gt;という命名規則の記事を読んでいた。初見では大規模だとBEMの衝突が絶対に起きない書き方の方が優れているように思えた。しかし衝突するであろうことに警報を出すという形にゆるくすることで、開発者たちに自由を与えるというような目的でこうなっているようだ。ちょっと興味深い。&lt;/p&gt;

&lt;p&gt;規模が大きくなると制約を厳しくして安定性を重視する一辺倒だったが、こういう自由さをうまく提供しようという考え方をすることはあまりなかった。具体的にも、変更されることがあまりない、またはわかっている人だけが行うひとまとまりのルートにのみ特殊な命名(&lt;code&gt;_&lt;/code&gt;で始める)というのはバランスが良さそうに思える。&lt;/p&gt;

&lt;p&gt;コードだけを見てみるとうまくいっているというのは少し驚く。&lt;code&gt;_&lt;/code&gt;で始まるところはあまり触らない人と&lt;code&gt;_&lt;/code&gt;で始まるところを触る人、と人的リソースが能力や職掌に応じてうまく振り分けられているのかなと想像してる。プリプロセッサーありきという印象もあるが、それはもう問題にはならなそうだ。&lt;/p&gt;

&lt;p&gt;CSSにもモジュール化、そしてその先のコンポーネント化の波は来ている。最右翼はBEMのような制約の厳しい命名規則であることは間違いなさそうだが、過渡期の今こそチームにあった命名規則を考えるべきなのかもしれない。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>木曜日のポエム</title>
      <link>http://hail2u.net/blog/misc/thursday-poem.html</link>
      <description>今年は木曜日に内向的な性格の強い記事、ざっくり言うとポエムなどと揶揄されるような記事を書くようにしていた。週で考えるとタイミングとしては良かったような気がする。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Misc.</category>
      <guid isPermaLink="true">http://hail2u.net/blog/misc/thursday-poem.html</guid>
      <pubDate>Sat, 06 Dec 2014 00:58:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;今年は木曜日に内向的な性格の強い記事、ざっくり言うとポエムなどと揶揄されるような記事を書くようにしていた。週で考えるとタイミングとしては良かったような気がする。&lt;/p&gt;

&lt;p&gt;月～火は情報の収集に偏りやすく、ポエムのようなものは消費されにくい傾向にあると思う。金～日はそもそも文章をじっくり読まれるようなタイミングでないことが多い。水～木あたりが良いのかなというところで、週末よりだとストレスからシリアスに捉えられる可能性が高いのではないかと木曜にした。&lt;/p&gt;

&lt;p&gt;当初は以下のような点を意識して、金曜日にしていた。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;あまりシリアスに捉えられないように&lt;/li&gt;
&lt;li&gt;そもそも読まれないように&lt;/li&gt;
&lt;li&gt;フィードを購読している人には読まれるように&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;世迷い事のようなものなのでシリアスに捉えられると困る、というような考えだった。ポエムのようなものは素に近いので、シリアスに捉えられて否定されると辛いとかそういうことでもあったように思う。&lt;/p&gt;

&lt;p&gt;しかし春頃から、ポエムのようなものはシリアスに捉えられて初めてその空気感のような曖昧な部分が伝わるのかもしれないと考えるようになった。以降は週末までに拡散し切るであろう木曜に公開するようになっていった。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;来年も続けよう。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>Sassでの関数の再帰呼び出し</title>
      <link>http://hail2u.net/blog/coding/recursive-function-in-sass.html</link>
      <description>ちょっとした事情で20回ほど再帰呼び出しする関数をSassで書いたらコンパイラーが落ちた。これは単に関数にバグがあっただけだった。100回程再帰呼び出しする関数を書いてみたが、これは落ちた……と思ったらこれも間違えて無限ループさせてただけだった……。ちゃんと書いてちゃんと限界を確認した。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Coding</category>
      <guid isPermaLink="true">http://hail2u.net/blog/coding/recursive-function-in-sass.html</guid>
      <pubDate>Fri, 05 Dec 2014 01:19:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;ちょっとした事情で20回ほど再帰呼び出しする関数をSassで書いたらコンパイラーが落ちた。これは単に関数にバグがあっただけだった。100回程再帰呼び出しする関数を書いてみたが、これは落ちた……と思ったらこれも間違えて無限ループさせてただけだった……。ちゃんと書いてちゃんと限界を確認した。&lt;/p&gt;

&lt;p&gt;以下のようなテスト・コードを書き、&lt;code&gt;$max&lt;/code&gt;を書きかえて限界を探った。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$initial: 0;
$max: 302;

@function loop($i) {
  $i: $i + 1;

  @if ($i &amp;lt; $max) {
    @return loop($i);
  } @else {
    @return $i;
  }
}

.test {
  z-index: loop($initial);
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;コンパイラーが落ちず、出力されるCSSで&lt;code&gt;z-index&lt;/code&gt;プロパティーの値が&lt;code&gt;$initial + $max&lt;/code&gt;と等しくなれば良い。手元の環境(Sass v3.4.9)では302までは問題なく通り、303にするとstack level too deep (SystemStackError)で落ちた。&lt;/p&gt;

&lt;p&gt;再帰呼び出しの内容にもよるかもしれないが、数十回くらいまでなら再帰呼び出ししても問題なさそうだ。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>ゆるやかな出会い</title>
      <link>http://hail2u.net/blog/blog/encounter.html</link>
      <description>内容に曖昧なところの少ない公式文書や仕様書、あるいはWikipediaの項目などのみをリンクで参照する形でウェブログの記事が書かれることが多くなった。孫引きや孫々引きのような記事は減り、全体的な記事の質は比べ物にならないくらい上がった。その一方でゆるやかな繋がりは死に、それに伴うゆるやかな出会いは消滅した。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Blog</category>
      <guid isPermaLink="true">http://hail2u.net/blog/blog/encounter.html</guid>
      <pubDate>Thu, 04 Dec 2014 02:19:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;内容に曖昧なところの少ない公式文書や仕様書、あるいはWikipediaの項目などのみをリンクで参照する形でウェブログの記事が書かれることが多くなった。孫引きや孫々引きのような記事は減り、全体的な記事の質は比べ物にならないくらい上がった。その一方でゆるやかな繋がりは死に、それに伴うゆるやかな出会いは消滅した。&lt;/p&gt;

&lt;p&gt;このあたりのことはもう取り返しがつかないであろうし、今こそTrackBackのような何かが……などといっても混乱させるだけだろう。そういう世界になったというだけの話だ。&lt;/p&gt;

&lt;p&gt;今の世界では記事は記事で独立した存在であり、その前後の記事はおろか書いた人のことにまで思い及ぶことはほぼない。あったとしてもそれは否定的な動機によるものだろう。そういった独立した記事達はもはやウェブログのような形態には収まることは無意味で、効率良く横断的に情報のみを得られるようなStack OverflowやQiitaへ、あるいは完全に隔離された匿名ダイアリーやpplogへ、と廃棄されていく。&lt;/p&gt;

&lt;p&gt;廃棄というのは多分に過去の幻想、TrackBackが理想通りに機能する世界を夢見ていたことによる悪意ある表現ではあるが、気軽に書き捨てるというような意味だ。記事自体には大きな変化は起きないので、情報量という観点では変化は見えてこない。しかし、記事と記事の繋がりやそれに伴う出会いのような観点で捉えると大きく変わった。&lt;/p&gt;

&lt;p&gt;フォローしている人やタグといった無機質な単位でしか記事と出会うことはなくなっている。そしてその記事はほぼどん詰まりで、これまた無機質な公式文書や仕様書、そしてWikipediaの項目へとしか行き着くことはない。そこには新たな情報はあっても、出会いはない。&lt;/p&gt;

&lt;p&gt;むしろそういった出会いのようなものがTwitterやLINEといったものに取って代わったことによる必然的な変化なのかもしれない。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;技術系に限らずAdvent Calendarが個々のウェブログ(やウェブサイト)で書かれなくなったな、と今年は強く感じた。続けてこのようなことを考えていた。&lt;/p&gt;

&lt;p&gt;個々のウェブログに書かれていた時は、普段良く読んでいる人がとあるAdvent Calendarに参加すると記事になる。そのため「こういうAdvent Calendarがあったのか」という発見があり、それに参加している他の人々という出会いがあった。いくつかは期待外れであったりもしたが、うちいくつかはとても興味深い出会いだったように思う。&lt;/p&gt;

&lt;p&gt;今はどのようなAdvent Calendarがあるかの発見は、QiitaやAdventarの一覧を見る以外にまったくないだろう。具体的な何か、例えばCSSやらBEMやらをもってAdvent Calendarを探すというのなら集約されている現状は効率が良い。でも無作為で意外な出会いもあって欲しいと考えるのは強欲なのだろうか。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>2014年の宗旨替え</title>
      <link>http://hail2u.net/blog/webdesign/i-changed-my-mind-in-2014.html</link>
      <description>移り変わりが激しい世界なので、去年まで当たり前のようにやっていたことを、今年はまったくやらなくなったりすることはよくある。僕は遂に諦めてCSSの定義(プロパティーと値のセット)を書く順序をアルファベット順に統一した。去年はシンプルなクラス名からBEMへの変更だった。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Web Design</category>
      <guid isPermaLink="true">http://hail2u.net/blog/webdesign/i-changed-my-mind-in-2014.html</guid>
      <pubDate>Wed, 03 Dec 2014 12:49:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;移り変わりが激しい世界なので、去年まで当たり前のようにやっていたことを、今年はまったくやらなくなったりすることはよくある。僕は遂に諦めてCSSの定義(プロパティーと値のセット)を書く順序をアルファベット順に統一した。去年はシンプルなクラス名からBEMへの変更だった。&lt;/p&gt;

&lt;p&gt;CSSで定義を書く順序は論理的な理由を持つ順序が良いとは今でも思っている。関連するプロパティーが並んでいれば、そのルールセットがどういう振る舞いをするのかわかりやすいはずだ。そういう意味で&lt;a href="http://hail2u.net/blog/webdesign/css2-property-order.html"&gt;CSS 2.1仕様書に出てくる順&lt;/a&gt;で書くというのは、仕様書が論理的な構造を持って書かれていることを考えると理にかなっている。&lt;/p&gt;

&lt;p&gt;しかし時代は変わった。&lt;/p&gt;

&lt;p&gt;CSS 3の時代になり、仕様書はモジュール単位で散在するようになり、実装が出てから安定版に進むようになり、スナップショットは作られなくなった。こうなるとどのような順で書くか仕様書を基準に明確に規定することは難しくなる。CSS 2.1をベースに考えてモジュール化された仕様の位置を決めることはできなくはないが、AnimationなどといったCSS 2.1には欠片も存在しないようなものの位置は決めることができない。&lt;/p&gt;

&lt;p&gt;かといって無作為な順番で書くというのは読みづらさを加速する。落とし所としてはアルファベット順がデメリットが少ないという点と賛同を得やすいという点で優れている。そうでなければルールセットごとにひとつの定義しか書かない&lt;a href="https://developers.google.com/speed/articles/optimizing-css"&gt;Declaration Just Once&lt;/a&gt;アプローチだろうか。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Declaration Just Onceアプローチは一度(まだ一度だけ)使ってみた。これはCSSプリプロセッサーと、そしてオブジェクト志向と食合せが非常に悪い。しかしひたすら素のCSSで書くというケースではそこそこうまく行き、保守性が高いことがすこしわかってきた。&lt;/p&gt;

&lt;p&gt;CSSファイルでセレクターが散在することが懸念だったが、2006年当時と違ってあるセレクターでの問題はCSSファイルと格闘するわけではない。余程のことがなければ開発者ツールで格闘するので、セレクターがあっちこっちに散らばっていてもほとんど問題になることはなかった。&lt;/p&gt;

&lt;p&gt;来年にはうまくいけばCSSプリプロセッサーを捨てることも不可能ではないと感じている。その際にはCSSの定義を書く順序……というかCSSの書き方という単位でまた宗旨変えしそうだ。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;こういった宗旨替えは誰しも毎年(どころか四半期に一度くらい)何かしらやっていることと思う。みなネタが豊富そうなので、来年は是非アドベント・カレンダーとして作りたい。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>毛布をかけずに敷く</title>
      <link>http://hail2u.net/blog/misc/laying-out-the-blanket.html</link>
      <description>TwitterのTLで流れてきてた毛布をかけるのではなく敷くのを試してみている。確かに暖かい。熱が上に逃げるから、下に暖かさが維持できるものがあると効率的ということなのかな？ただ断熱性の高い羽毛布団のような掛け布団は必須そう。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Misc.</category>
      <guid isPermaLink="true">http://hail2u.net/blog/misc/laying-out-the-blanket.html</guid>
      <pubDate>Tue, 02 Dec 2014 13:01:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;TwitterのTLで流れてきてた毛布をかけるのではなく敷くのを試してみている。確かに暖かい。熱が上に逃げるから、下に暖かさが維持できるものがあると効率的ということなのかな？ただ断熱性の高い羽毛布団のような掛け布団は必須そう。&lt;/p&gt;

&lt;p&gt;下から:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;マットレス&lt;/li&gt;
&lt;li&gt;ベッドパッド&lt;/li&gt;
&lt;li&gt;毛布&lt;/li&gt;
&lt;li&gt;ボックスシーツ&lt;/li&gt;
&lt;li&gt;タオルケット&lt;/li&gt;
&lt;li&gt;掛け布団&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;という形にした。体に直接毛布だと、気軽に洗えない毛布が汚れまくりそうで嫌だったため、ベットパッドとボックスシーツの間にした。冬用の厚手でウール(やアクリル)のシーツとかでも良さそうだけど、洗うの大変なので問題外だと思う。&lt;/p&gt;

&lt;p&gt;羽毛布団の良いやつ欲しい。けどiMac (Retineモデル)よりも高い。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>ギジュツケー・アドベント・カレンダー</title>
      <link>http://hail2u.net/blog/internet/well-prepared-tech-advent-calendar.html</link>
      <description>技術系アドベント・カレンダーもすっかり定着した感じだ。この(多分)独特の(色々)ゆるゆるな感じのものも悪くはないが、もっとしっかりと準備されたものもあった方が良いのではないかと去年くらいから思ってる。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Internet</category>
      <guid isPermaLink="true">http://hail2u.net/blog/internet/well-prepared-tech-advent-calendar.html</guid>
      <pubDate>Mon, 01 Dec 2014 13:07:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;技術系アドベント・カレンダーもすっかり定着した感じだ。この(多分)独特の(色々)ゆるゆるな感じのものも悪くはないが、もっとしっかりと準備されたものもあった方が良いのではないかと去年くらいから思ってる。&lt;/p&gt;

&lt;p&gt;記事の網羅性とメンバー同士での査読期間を確保するためにはかなり余裕を持って始めなければならないかもしれない。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;7月頭: 募集開始&lt;/li&gt;
&lt;li&gt;8月末: メンバー及び原稿内容の決定&lt;/li&gt;
&lt;li&gt;9月末: 第一〆切&lt;/li&gt;
&lt;li&gt;10月末: 原稿の完成&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;このようなスケジュールで原稿を完成させ、11月にウェブサイトをみんなで作って、12月に順次公開したい。というようなことを考えたこともあったが、みんなそんなにヒマじゃないのでそこそこお金を出してくれるスポンサーでも募集しないと無理そうだ。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;僕は今年はギジュツケーには書かず、&lt;a href="http://www.adventar.org/calendars/342"&gt;TKG&lt;/a&gt;と&lt;a href="http://www.adventar.org/calendars/539"&gt;床&lt;/a&gt;についてゆるゆるで書く予定……だが、書きたい感じがちょっと高まってきた。SassやGruntをいつでも捨てられるようにするためのA-Zみたいなネタがあり、この前とあるプロジェクトで捨てた時に感じたことをまとめたい。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>タスク・ランナーをnpm run-scriptでラップ</title>
      <link>http://hail2u.net/blog/webdesign/wrapping-task-runner-with-npm-run-script.html</link>
      <description>npm で依存もタスクも一元化するという記事を興味深く読んだ。僕もしばらく前、具体的にはnpm v2出た時からGruntをnpm run-scriptでラップして使っている。概ね良好に機能すると感じている。懸念であった引数で特定の処理を行わせたいようなケースもnpm v2で引数を解釈できるようになったので解決した。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Web Design</category>
      <guid isPermaLink="true">http://hail2u.net/blog/webdesign/wrapping-task-runner-with-npm-run-script.html</guid>
      <pubDate>Sun, 30 Nov 2014 11:48:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;&lt;a href="http://qiita.com/Jxck_/items/efaff21b977ddc782971"&gt;npm で依存もタスクも一元化する&lt;/a&gt;という記事を興味深く読んだ。僕もしばらく前、具体的にはnpm v2出た時からGruntを&lt;a href="https://www.npmjs.org/doc/cli/npm-run-script.html"&gt;npm run-script&lt;/a&gt;でラップして使っている。概ね良好に機能すると感じている。懸念であった引数で特定の処理を行わせたいようなケースもnpm v2で引数を解釈できるようになったので解決した。&lt;/p&gt;

&lt;p&gt;npm run-script経由にすることによる大きなデメリットとしては、そんなに速くもないnpm経由で常にタスクを実行することによる速度の低下が挙げられる。&lt;/p&gt;

&lt;p&gt;この速度の低下は、Gruntやgulpの主要な目的であるビルドにおいてはそれほど問題にならない。ビルドにかかる時間に比べると、相対的にその低下の割合は低いものだと考えられるからだ。しかしタスクはそういったものにとどまらず例えばHTML(やMarkdown)のプレビューであったり、Sassのオンデマンド・コンパイルといった小さなタスクもある。その場合は速度低下が占める割合は高くなってしまい、実行時のストレスに繋がる。&lt;/p&gt;

&lt;p&gt;もちろんそういった小さなタスクを各開発者が自前で用意している環境に任せるという選択もあり、実際そうする方が良いことが多い。しかしその一方で小さなタスクまでも用意してやることによって、環境一式を開発者間で揃えられるというメリットも捨てがたい。その場合、小さなタスクのコストをできるだけ小さく抑えるための工夫が必要になる。&lt;/p&gt;

&lt;p&gt;そうなるとタスク・ランナー経由で実行させるよりも、設定不要な小さなNode.jsスクリプトを作りそれを実行した方が効率的だ。プロジェクトにGruntとgulpを混ぜてnpm run-scriptでラップというのは馬鹿げているが、Gruntと小さなNode.jsスクリプトの組み合わせは悪くはない。そのNode.jsスクリプトが設定不要なことと&lt;code&gt;package.json&lt;/code&gt;の&lt;code&gt;script&lt;/code&gt;で複雑なコマンドライン・オプションを指定したコマンドを定義しないこと辺りがキモになる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
  &amp;quot;private&amp;quot;: true,
  &amp;quot;scripts&amp;quot;: {
    &amp;quot;build&amp;quot;: &amp;quot;grunt build&amp;quot;,
    &amp;quot;deploy&amp;quot;: &amp;quot;grunt deploy&amp;quot;,
    &amp;quot;preview&amp;quot;: &amp;quot;.bin/preview&amp;quot;,
    &amp;quot;sassc&amp;quot;: &amp;quot;.bin/sassc&amp;quot;,
    &amp;quot;start&amp;quot;: &amp;quot;grunt connect&amp;quot;,
    &amp;quot;test&amp;quot;: &amp;quot;grunt test&amp;quot;
  },
  devDependencies: {}
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;具体的にはこのような形でミックスしている。&lt;/p&gt;

&lt;pre&gt;&lt;samp&gt;$ &lt;kbd&gt;npm test&lt;/kbd&gt;
$ &lt;kbd&gt;npm run deploy&lt;/kbd&gt;
$ &lt;kbd&gt;npm run preview -- src/weblog/drafts/example.markdown&lt;/kbd&gt;
$ &lt;kbd&gt;npm run sassc -- src/css/style.scss&lt;/kbd&gt;
&lt;/samp&gt;&lt;/pre&gt;

&lt;p&gt;実行のインターフェイスは統一され、引数あるなしはあるものの中身には特に左右されない。例えばこの&lt;code&gt;.bin/preview&lt;/code&gt; (20行くらい)では引数のファイルの拡張子でどうやってHTMLを作るかを分け、一時ディレクトリーにHTMLファイルを作成し、最後にそれをブラウザーで開くようになっている。また&lt;code&gt;.bin/sassc&lt;/code&gt; (10行くらい)はSassのCLIプログラムをプロジェクトにあった形のオプションで実行するだけのラッパー・スクリプトだ。&lt;/p&gt;

&lt;p&gt;両者ともに似たような、またはもっと高機能のGruntプラグインやgulpプラグインはいくつも存在する。それらは小回りを犠牲に汎用性を持たせているため、プロジェクト特化型の小さなNode.jsスクリプトと違い、やることに比して大仰過ぎる嫌いがある。まさに牛刀といったところだ。&lt;/p&gt;

&lt;p&gt;無理にGruntやgulpに寄せるよりも、タスクの規模と利用ケースを考慮して書き分け、npm run-scriptで統一してやる方が使いやすいものになるはずだ。どうせ使う方は中身を読んだり修正したりはしないので、Node.jsで完結しているならばどんな風に書かれていても大した問題ではない。プロジェクトを構成するファイルが増えることにはなるが、&lt;code&gt;.bin&lt;/code&gt;といった見えにくいディレクトリーに放り込んでおけば邪魔扱いされることもないだろう。&lt;/p&gt;

&lt;p&gt;僕はGruntやgulpといったタスク・ランナーをいずれ捨てる(新しいタスク・ランナーに変えるではなく、単に捨てる)ことも視野に入れて使っているので、特にこう感じるのかもしれない。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;他には&lt;code&gt;npm run&lt;/code&gt;は微妙に長いことと引数を付ける時に&lt;code&gt;--&lt;/code&gt;を挟むのを忘れがちなことというような、使い方において慣れないと厳しいことくらいか。&lt;code&gt;package.json&lt;/code&gt;の肥大化が～というような観点もあるが、多くても20行くらい(&lt;code&gt;pre-&lt;/code&gt;や&lt;code&gt;post-&lt;/code&gt;を駆使した場合でも)なので&lt;code&gt;Gruntfile.js&lt;/code&gt;のあっという間に300行と比べると問題にならないだろう。&lt;/p&gt;

&lt;p&gt;npm run-scriptでのラップが優れた解であることは疑いないが、その実際の構成にはもう少し色々考えるべきところがありそうだ。もっと様々なユースケースを知りたい。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>Gruntで実行しているエイリアス・タスクの名前とターゲットの取得</title>
      <link>http://hail2u.net/blog/coding/getting-grunt-alias-task-name-and-target.html</link>
      <description>Gruntのタスク内から今実行されているタスクの名前とターゲットは、それぞれthis.nameとthis.targetで取得できる。しかしエイリアス・タスク経由での実行の場合、その名前やターゲットを簡単に取得する方法は用意されてない。どうやっても拾えないかというとそうでもなく、grunt.cli.tasksにコマンドラインで実際に指定されたタスク群が配列として格納されるので、それから拾えば良い。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Coding</category>
      <guid isPermaLink="true">http://hail2u.net/blog/coding/getting-grunt-alias-task-name-and-target.html</guid>
      <pubDate>Sat, 29 Nov 2014 10:16:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;Gruntのタスク内から今実行されているタスクの名前とターゲットは、それぞれ&lt;a href="http://gruntjs.com/api/inside-tasks#this.name"&gt;&lt;code&gt;this.name&lt;/code&gt;&lt;/a&gt;と&lt;a href="http://gruntjs.com/api/inside-tasks#this.target"&gt;&lt;code&gt;this.target&lt;/code&gt;&lt;/a&gt;で取得できる。しかし&lt;a href="http://gruntjs.com/creating-tasks#alias-tasks"&gt;エイリアス・タスク&lt;/a&gt;経由での実行の場合、その名前やターゲットを簡単に取得する方法は用意されてない。どうやっても拾えないかというとそうでもなく、&lt;code&gt;grunt.cli.tasks&lt;/code&gt;にコマンドラインで実際に指定されたタスク群が配列として格納されるので、それから拾えば良い。&lt;/p&gt;

&lt;p&gt;例えば以下のようなオプションでGruntを実行し、普通のマルチ・タスクとエイリアス・タスクを複数まとめて実行したとする。&lt;/p&gt;

&lt;pre&gt;&lt;samp&gt;$ &lt;kbd&gt;grunt multi:foo alias:bar&lt;/kbd&gt;
&lt;/samp&gt;&lt;/pre&gt;

&lt;p&gt;この場合&lt;code&gt;grunt.cli.tasks&lt;/code&gt;は以下のような配列になる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[
  &amp;#39;multi:foo&amp;#39;,
  &amp;#39;alias:bar&amp;#39;
];
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;この&lt;code&gt;grunt.cli.tasks&lt;/code&gt;にはコマンドライン・オプションで指定したタスクがそのままの順序で格納される。そのためエイリアス・タスクの名前やターゲットへアクセスできるというわけだ。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;#39;use strict&amp;#39;;

module.exports = function (grunt) {
  grunt.registerMultiTask(
    &amp;#39;example&amp;#39;,
    &amp;#39;Example task.&amp;#39;,
    function () {
      if (grunt.cli.tasks.some(function (task) {
        return task === &amp;#39;alias:bar&amp;#39;;
      })) {
        // Do task.
      }
    }
  );
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;タスク内からはこのようにしてアクセスすることになるだろう。&lt;code&gt;Array.prototype.some()&lt;/code&gt;を使って&lt;code&gt;grunt.cli.tasks&lt;/code&gt;を調べ、&lt;code&gt;alias:bar&lt;/code&gt;経由での実行の時のみ特別扱いしてやる、というわけだ。&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Gruntの本道としては設定を切り分けて&lt;code&gt;options&lt;/code&gt;でフラグを立ててやるべきようなことなので、あまり必要とされることはない。そのためかアクセスする方法が用意されていないのだが、書き捨てるタスクではコード側でガッツリやってやった方が面倒じゃないことも多い。エイリアス・タスクの名前やターゲットと同じような意味を持つ設定を書かなくて済み、コード側で完結できるからだ。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>twitter:siteプロパティー</title>
      <link>http://hail2u.net/blog/internet/twitter-site-property.html</link>
      <description>TwitterアナリティクスにはTwitterカードの解析が出来る機能があるのだけど、単にウェブサイトにTwitterカードを設置しただけでは解析してくれなかった。どうやれば良いのか全然わからなかったけど、どうやらtwitter:creatorだけでなくtwitter:siteプロパティーも設定してやる必要があるようだ。</description>
      <author>kyo@hail2u.net (Kyo Nagashima)</author>
      <category>Internet</category>
      <guid isPermaLink="true">http://hail2u.net/blog/internet/twitter-site-property.html</guid>
      <pubDate>Fri, 28 Nov 2014 08:18:00 +0900</pubDate>
      <content:encoded>&lt;p&gt;&lt;a href="https://analytics.twitter.com/"&gt;Twitterアナリティクス&lt;/a&gt;には&lt;a href="https://dev.twitter.com/cards/overview"&gt;Twitterカード&lt;/a&gt;の解析が出来る機能があるのだけど、単にウェブサイトにTwitterカードを設置しただけでは解析してくれなかった。どうやれば良いのか全然わからなかったけど、どうやら&lt;code&gt;twitter:creator&lt;/code&gt;だけでなく&lt;code&gt;twitter:site&lt;/code&gt;プロパティーも設定してやる必要があるようだ。&lt;/p&gt;

&lt;p&gt;必須である&lt;code&gt;twitter:card&lt;/code&gt;と&lt;code&gt;twitter:creator&lt;/code&gt;プロパティーに加えて&lt;code&gt;twitter:site&lt;/code&gt;プロパティーを書くことになる。&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;meta name=&amp;quot;twitter:card&amp;quot; content=&amp;quot;summary&amp;quot;&amp;gt;
&amp;lt;meta name=&amp;quot;twitter:site&amp;quot; content=&amp;quot;@hail2unet&amp;quot;&amp;gt;
&amp;lt;meta name=&amp;quot;twitter:creator&amp;quot; content=&amp;quot;@hail2u_&amp;quot;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;このウェブサイトの場合は他のプロパティーはOGPから読んで貰っているので、固定でこれらを追加するだけで良かった。&lt;/p&gt;

&lt;figure&gt;
  &lt;img alt="Twitter Cardsの解析が有効になり、水色でツイート数、紺でインプレッション数、オレンジでURLクリック数とそれぞれグラフが描画されるように" src="http://hail2u.net/images/blog/twitter-cards-analytics.png"&gt;

  &lt;figcaption&gt;Graph of Twitter Cards Analytics&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;設定後はTwitterカードの解析内容がアカウントと結びつけられるので、TwitterアナリティクスのダッシュボードからTwitterカードを見るとこのようにグラフが描画されるようになった。ゆるやかに上昇しているのはグラフ描画ライブラリのせいで、ツイート数とURLクリック数のグラフがおかしいのはまだデータが足りないせいだろう(変化率なのでデータが貯まれば是正されるはず)。&lt;/p&gt;

&lt;p&gt;他、どのようなユーザーがツイートしてくれたか(インフルエンサー)やそれらユーザーが利用しているクライアント名など様々なデータを見ることが可能になる。&lt;/p&gt;</content:encoded>
    </item>
    <item>
      <title>Documentsに「ウェブ・タイポグラフィーのベスト・プラクティス」を追加</title>
      <link>http://hail2u.net/documents/web-typography-best-practices.html</link>
      <pubDate>Sun, 28 Sep 2014 00:51:35 +0900</pubDate>
      <guid isPermaLink="true">http://hail2u.net/documents/web-typography-best-practices.html</guid>
      <description>&lt;p&gt;&lt;a href="http://www.smashingmagazine.com/2013/05/17/typographic-design-patterns-practices-case-study-2013/"&gt;Smashing Magazineによるウェブサイトのタイポグラフィーについての調査&lt;/a&gt;をわかりやすくまとめた&lt;a href="http://bootstrapbay.com/blog/web-typography-best-practices/"&gt;The All-Inclusive Guide to Web Typography Best Practices&lt;/a&gt;の日本語訳です。ベスト・プラクティスになりうる部分のみコンパクトに抽出された参考になる文書だと思います。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Projectsに「rsync-ac (Gruntプラグイン)」を追加</title>
      <link>https://github.com/hail2u/grunt-rsync-ac</link>
      <pubDate>Mon, 07 Jul 2014 16:30:38 +0900</pubDate>
      <guid isPermaLink="true">https://github.com/hail2u/grunt-rsync-ac</guid>
      <description>&lt;p&gt;rsync-ac (Gruntプラグイン)は&lt;a href="http://rsync.samba.org/"&gt;rsync&lt;/a&gt;を使って他のディレクトリへファイルをコピーするGruntプラグインです。オプション設定を絞ることであまり考えずに使えるようにしました。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Projectsに「pubsubhubbub_publish (Gruntプラグイン)」を追加</title>
      <link>https://github.com/hail2u/grunt-pubsubhubbub_publish</link>
      <pubDate>Mon, 07 Jul 2014 00:44:37 +0900</pubDate>
      <guid isPermaLink="true">https://github.com/hail2u/grunt-pubsubhubbub_publish</guid>
      <description>&lt;p&gt;pubsubhubbub_publish (Gruntプラグイン)はGoogleが提供している&lt;a href="https://pubsubhubbub.appspot.com/"&gt;PubSubHubbubハブ&lt;/a&gt;へ指定したURLのフィードを&lt;code&gt;publish&lt;/code&gt;するGruntプラグインです。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Projectsに「Picks」を追加</title>
      <link>http://picks.hail2u.net/</link>
      <pubDate>Sun, 06 Jul 2014 04:48:23 +0900</pubDate>
      <guid isPermaLink="true">http://picks.hail2u.net/</guid>
      <description>&lt;p&gt;Picksは僕が興味をもった様々なURLをアイコンをヒントにざっと眺めることの出来るウェブサイトです。&lt;/p&gt;</description>
    </item>
    <item>
      <title>WEB+DB Press Vol.81にて「イマドキHTML/CSS開発」を執筆</title>
      <link>http://www.amazon.co.jp/WEB-DB-PRESS-Vol-81-%E9%95%B7%E5%B6%8B/dp/4774165069%3FSubscriptionId%3D0WVS3J53FVP9M1E7ET02%26tag%3Dhail2unet-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4774165069</link>
      <pubDate>Thu, 19 Jun 2014 15:31:33 +0900</pubDate>
      <guid isPermaLink="true">http://www.amazon.co.jp/WEB-DB-PRESS-Vol-81-%E9%95%B7%E5%B6%8B/dp/4774165069%3FSubscriptionId%3D0WVS3J53FVP9M1E7ET02%26tag%3Dhail2unet-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4774165069</guid>
      <description>&lt;p&gt;Web標準技術の進歩やデバイスの多様化といったWebをとりまく環境の急激な変化は、従来のWebサイト開発手法を時代遅れのものとしつつあります。設計から実装・検証、そしてデバイスへの最適化まで、ワークフロー全体の変革が求められているということです。本特集では、現在はもちろん、これからも増大し続ける多様性を見据えてどのような開発手法をとっていくべきかについて、実例を交じえながら詳しく解説していきます。6月24日発売、&lt;a href="http://www.amazon.co.jp/WEB-DB-PRESS-Vol-81-%E9%95%B7%E5%B6%8B/dp/4774165069%3FSubscriptionId%3D0WVS3J53FVP9M1E7ET02%26tag%3Dhail2unet-22%26linkCode%3Dxm2%26camp%3D2025%26creative%3D165953%26creativeASIN%3D4774165069"&gt;Amazonにて予約受付中&lt;/a&gt;です！&lt;/p&gt;</description>
    </item>
    <item>
      <title>Twitterアカウントを作成</title>
      <link>https://twitter.com/hail2unet</link>
      <pubDate>Thu, 19 Jun 2014 07:15:12 +0900</pubDate>
      <guid isPermaLink="true">https://twitter.com/hail2unet</guid>
      <description>&lt;p&gt;更新情報やブログに公開された記事の他、重要なお知らせを通知するためのTwitterアカウントを作成しました。今まで個人のアカウントでツイートされていたそれらは、今後こちらで行われます。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Projectsに「UnUTM」を追加</title>
      <link>https://github.com/hail2u/unutm</link>
      <pubDate>Thu, 12 Jun 2014 06:32:16 +0900</pubDate>
      <guid isPermaLink="true">https://github.com/hail2u/unutm</guid>
      <description>&lt;p&gt;UnUTMはウェブページのURLからGoogle Analyticsなどで利用されているUrchin Traffic Monitor (UTM)用のパラメーターを自動的に削除し、URLの分散を解消するJavaScriptライブラリです。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Projectsに「CSSWring」を追加</title>
      <link>https://github.com/hail2u/node-csswring</link>
      <pubDate>Fri, 25 Apr 2014 08:19:34 +0900</pubDate>
      <guid isPermaLink="true">https://github.com/hail2u/node-csswring</guid>
      <description>&lt;p&gt;CSSWringはCSSを圧縮(minification)するNode.jsパッケージです。Node.jsパッケージとして組み込むだけでなく、コマンドラインからも実行できます。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Projectsに「CSS MQPacker」を追加</title>
      <link>https://github.com/hail2u/node-css-mqpacker</link>
      <pubDate>Sat, 22 Feb 2014 15:39:04 +0900</pubDate>
      <guid isPermaLink="true">https://github.com/hail2u/node-css-mqpacker</guid>
      <description>&lt;p&gt;CSS MQPackerはCSSファイル内に散在するメディアクエリを、クエリごとにまとめCSSファイルを最適化するNode.jsパッケージです。これを利用した&lt;a href="https://github.com/hail2u/grunt-css-mqpacker"&gt;Gruntプラグイン&lt;/a&gt;もあります。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Documentsに「安全でアクセシブルなアイコン・フォント」を追加</title>
      <link>http://hail2u.net/documents/bulletproof-icon-fonts.html</link>
      <pubDate>Tue, 28 Jan 2014 11:09:52 +0900</pubDate>
      <guid isPermaLink="true">http://hail2u.net/documents/bulletproof-icon-fonts.html</guid>
      <description>&lt;p&gt;アイコン・フォントの安全な実装についての&lt;a href="http://filamentgroup.com/lab/bulletproof_icon_fonts/"&gt;Bulletproof Accessible Icon Fonts&lt;/a&gt;という記事の日本語訳です。アクセシビリティ上の問題を含め、巷間のアイコン・フォントの現状の課題とその対処についても触れられているので、アイコン・フォントの実装に大いに役に立ってくれるでしょう。&lt;/p&gt;</description>
    </item>
    <lastBuildDate>Sun, 07 Dec 2014 02:20:00 +0900</lastBuildDate>
  </channel>
</rss>
